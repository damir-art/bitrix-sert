# Menu
Внедрение компонента меню.

## Внедрение меню
- сначала верстаем меню одно или многоуровневое,
- открываем тестовую страницу и размещаем компонент меню в нем,
  - служебные > навигация > меню (два клика)
- настраиваем параметры
  - шаблон: горизонтальное многоуровневое выпадающее меню
  - тип меню для первого уровня: верхнее меню
  - уровень вложенности меню: 2
  - тип меню для остальных уровней: левое меню
  - сохранить, сохранить
- появится меню со встроенным шаблоном

## Редактирование шаблона
Для редактирования шаблона меню, его нужно скопировать в шаблон сайта:
- режим правки включен
- стрелочка вниз > bitrix:menu > копировать шаблон компонента
- название нового шаблона компонента: top_menu
- копировать в шаблон сайта: текущий
- сохранить

Шаблон компонента меню скопируется в: `/local/templates/inner/components/bitrix/menu/top_menu/template.php`:
- переносим верстку в этот файл
- если у вас есть свои скрипты и стили для меню, очистите файлы style.css и script.js
- удалите или очистите папку images
- после пролога выводим dump($arResult),
- вставляем верстку

Если хотите чтобы вызов компонента был доступен как в главном шаблоне так и во внутреннем, разместите его в шаблоне .default

Где:
- $arResult - массив пришедший от component.php (массив из пунктов меню)
- foreach - цикл по пунктам меню
- `[IS_PARENT] =>` - является ли пункт меню родительским
- `[PERMISSION] =>` - права пользователя на просмотр страницы

После размещения верстки меню в шаблон меню, копируем код вызова компонента меню и размещаем его в шаблон верстки сайта.
- изменить страницу в режиме PHP-кода
- разместить код вызова в header.php

## Вывод иконки
Вывод иконки в пункт меню на главной странице.
- Админка > .top.menu.php > Правая кнопка > Редактировать меню > Расширенный режим
  - параметры: название `IMG`, значение `/local/templates/.default/images/nv_home.png`
  - в `$arResult` у шаблона меню появится `[PARAMS] => [IMG]`
  - его значение используем для вставки изображения

Код:

    <li><a href="<?=$arItem["LINK"]?>" <?if(isset($arItem['PARAMS']['IMG'])):?>class="menu-img-fon" style="background-image: url(<?=$arItem['PARAMS']['IMG']?>);"<?endif?>><span><?=$arItem["TEXT"]?></span></a>
